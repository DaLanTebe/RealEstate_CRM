databaseChangeLog:
  - changeSet:
      id: 2
      author: dan
      changes:
        - createTable:
           tableName: history_estates
           columns:
             - column:
                 name: id
                 type: UUID
                 constraints:
                   primaryKey: true
                   nullable: false
             - column:
                 name: cadastr
                 type: VARCHAR(50)
                 constraints:
                   nullable: false
             - column:
                 name: type
                 type: VARCHAR(20)
                 constraints:
                   nullable: false
             - column:
                 name: square
                 type: varchar(20)
                 constraints:
                   nullable: false
             - column:
                 name: price_type
                 type: VARCHAR(20)
                 constraints:
                   nullable: false
             - column:
                 name: price
                 type: decimal
                 constraints:
                   nullable: false
             - column:
                 name: creation_date
                 type: TIMESTAMP
                 constraints:
                   nullable: false
                 defaultValueComputed: CURRENT_TIMESTAMP

        - createIndex:
            indexName: idx_history_estates_cadastr_price_type_time
            tableName: history_estates
            unique: false
            columns:
              - column:
                  name: cadastr
              - column:
                  name: price_type
              - column:
                  name: creation_date


